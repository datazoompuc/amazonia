<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>DataZoom</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root{
      --green:#2f7d32;          /* links/brand */
      --green-soft:#77C478;     /* accents */
      --border:#e6e6e6;
      --black:#111;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    a{color:inherit;text-decoration:none}

    /* ---------- HEADER BAR ---------- */
    .navbar{
      display:flex;align-items:center;justify-content:space-between;
      background:#fff;padding:10px 16px;position:relative;
      border-bottom:4px solid var(--green-soft);
    }
    .nav-left{display:flex;align-items:center;gap:12px}
    .logo-btn{
      border:0;background:transparent;padding:0;cursor:pointer
    }
    .logo-img{height:48px;display:block}

    .nav-right{display:flex;align-items:center}
    .nav-action{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:6px 14px}
    .divider{width:1px;height:24px;background:#d1d5db}
    .lang-link{color:var(--green);font-weight:600}

    /* Hamburger */
    .menu-toggle{border:0;background:transparent;cursor:pointer;padding:0;display:flex;flex-direction:column;align-items:center}
    .bars{width:26px}
    .bar{height:3px;background:var(--green-soft);border-radius:2px;margin:4px 0}
    .menu-label{font-size:12px;color:#555;margin-top:3px}

    /* Search icon */
    .search-btn{border:0;background:transparent;cursor:pointer;padding:0}
    .search-icon{width:22px;height:22px;border:2px solid #000;border-radius:50%;position:relative;display:inline-block}
    .search-icon::after{content:"";position:absolute;right:-6px;bottom:-6px;width:10px;height:2px;background:#000;transform:rotate(45deg)}

    /* ---------- VERTICAL MENU ---------- */
    nav{background:#fff}
    .menu{list-style:none;margin:0;padding:0;display:none}
    .menu.show{display:block}
    .menu li{border-bottom:1px solid var(--border)}
    .menu a,.menu button.menu-link{
      width:100%;display:flex;align-items:center;justify-content:space-between;
      padding:14px 18px;font-weight:700;color:var(--green);background:#fff;border:0;cursor:pointer;text-align:left
    }
    .menu a:hover,.menu button.menu-link:hover{background:#f7faf7}
    .caret{transition:transform .2s ease}
    .menu .open .caret{transform:rotate(180deg)}
    .submenu{list-style:none;margin:0;padding:0;display:none}
    .submenu.show{display:block}
    .submenu li a{font-weight:600;color:#111;padding:14px 28px}
  </style>
</head>
<body>

  <!-- ======= HEADER ======= -->
  <header class="navbar">
    <div class="nav-left">
      <!-- Logo: back to home -->
      <button class="logo-btn" id="logo-home" aria-label="Voltar para a página principal">
        <img class="logo-img" src="{{ site.baseurl }}/assets/img/banner_dzam.png" alt="DataZoom Amazônia">
      </button>
    </div>

    <div class="nav-right">
      <div class="nav-action">
        <a href="#" id="lang-switch" class="lang-link">English</a>
      </div>
      <div class="divider"></div>

      <div class="nav-action">
        <button class="menu-toggle" id="menu-toggle" aria-expanded="false" aria-controls="site-menu">
          <div class="bars"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>
          <span class="menu-label">Menu</span>
        </button>
      </div>
      <div class="divider"></div>

      <div class="nav-action">
        <button class="search-btn" aria-label="Pesquisar">
          <span class="search-icon"></span>
        </button>
      </div>
    </div>
  </header>

  <!-- ======= VERTICAL MENU ======= -->
  <nav>
    <ul class="menu" id="site-menu">
      <li><a href="{{ site.baseurl }}">Página Principal</a></li>

      <li>
        <button class="menu-link" id="viz-toggle" aria-expanded="false" aria-controls="viz-submenu">
          <span>Visualizações</span>
          <span class="caret">▾</span>
        </button>
        <ul class="submenu" id="viz-submenu">
          <li><a href="{{ site.baseurl }}/pt/visualizacoes/comercio-exterior.md">Comércio exterior</a></li>
          <li><a href="{{ site.baseurl }}/pt/visualizacoes/desenvolvimento.md">Desenvolvimento</a></li>
          <li><a href="{{ site.baseurl }}/pt/visualizacoes/desmatamento.md">Desmatamento</a></li>
          <li><a href="{{ site.baseurl }}/pt/visualizacoes/energia.md">Energia</a></li>
          <li><a href="{{ site.baseurl }}/pt/visualizacoes/mercado-trabalho.md">Mercado de Trabalho</a></li>
          <li><a href="{{ site.baseurl }}/pt/visualizacoes/saude.md">Saúde</a></li>
        </ul>
      </li>

      <li><a href="{{ site.baseurl }}/pt/codigos-e-dados.md">Códigos e Dados</a></li>
      <li><a href="{{ site.baseurl }}/pt/sobre.md">Sobre</a></li>
      <li><a href="https://www.econ.puc-rio.br/datazoom/">Data Zoom</a></li>
      <li><a href="https://amazonia2030.org.br/">Amazônia 2030</a></li>
      <li><a href="{{ site.baseurl }}/pt/termos.md">Termos de Uso</a></li>
    </ul>
  </nav>

  <script>
    // toggle vertical menu
    const toggleBtn=document.getElementById('menu-toggle');
    const menu=document.getElementById('site-menu');
    toggleBtn.addEventListener('click',()=>{
      const open=menu.classList.toggle('show');
      toggleBtn.setAttribute('aria-expanded',open?'true':'false');
    });

    // accordion for Visualizações
    const vizBtn=document.getElementById('viz-toggle');
    const vizSub=document.getElementById('viz-submenu');
    vizBtn.addEventListener('click',()=>{
      const open=vizSub.classList.toggle('show');
      vizBtn.setAttribute('aria-expanded',open?'true':'false');
      vizBtn.parentElement.classList.toggle('open',open);
    });

    // language switcher: /pt/ -> /en/
    document.getElementById('lang-switch').addEventListener('click',(e)=>{
      e.preventDefault();
      const url=new URL(window.location.href);
      const parts=url.pathname.split('/');
      const idx=parts.findIndex(seg=>seg==='pt'||seg==='en');
      if(idx>=0){parts[idx]='en';url.pathname=parts.join('/');}
      else{url.pathname='/en'+url.pathname;}
      window.location.assign(url.toString());
    });

    // logo: go to current language home
    document.getElementById('logo-home').addEventListener('click',()=>{
      const url=new URL(window.location.href);
      const parts=url.pathname.split('/');
      const idx=parts.findIndex(seg=>seg==='pt'||seg==='en');
      if(idx>=0){url.pathname='/'+parts[idx]+'/';}
      else{url.pathname='/';}
      window.location.assign(url.toString());
    });
  </script>
</body>
</html>
